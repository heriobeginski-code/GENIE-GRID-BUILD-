<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="THE GRID">
    <link rel="apple-touch-icon" href="https://img.icons8.com/neon/180/00d9ff/disc.png">
    
    <title>TRON ISO_BUILD V6.0</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=JetBrains+Mono&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --neon-blue: #00d9ff;
            --dark-bg: #050608;
            --card-bg: rgba(10, 12, 18, 0.95);
            --grid-line: rgba(0, 217, 255, 0.08);
            --danger: #ff4444;
            --scanline-color: rgba(0, 217, 255, 0.03);
        }

        /* ========== SCANLINE ANIMATIONS ========== */
        body::before {
            content: " "; display: block; position: fixed;
            top: 0; left: 0; bottom: 0; right: 0;
            background: linear-gradient(var(--scanline-color) 50%, rgba(0, 0, 0, 0) 50%), 
                        linear-gradient(90deg, rgba(255, 0, 0, 0.02), rgba(0, 255, 0, 0.01), rgba(0, 0, 255, 0.02));
            z-index: 9999; background-size: 100% 4px, 3px 100%; pointer-events: none;
        }

        @keyframes scanlineMove { 0% { transform: translateY(0); } 100% { transform: translateY(100vh); } }
        body::after {
            content: ""; position: fixed; top: -100px; left: 0; width: 100%; height: 100px;
            background: rgba(0, 217, 255, 0.05); animation: scanlineMove 8s linear infinite;
            z-index: 10000; pointer-events: none;
        }

        body {
            background-color: var(--dark-bg);
            background-image: linear-gradient(var(--grid-line) 1px, transparent 1px), linear-gradient(90deg, var(--grid-line) 1px, transparent 1px);
            background-size: 40px 40px; color: white; font-family: 'JetBrains Mono', monospace;
            margin: 0; padding: 20px; overflow-x: hidden;
        }

        .orbitron { font-family: 'Orbitron', sans-serif; }
        .cyber-card { 
            background: var(--card-bg); border: 1px solid var(--neon-blue); 
            padding: 15px; cursor: pointer; backdrop-filter: blur(5px); transition: 0.3s; 
        }
        .cyber-card:hover { box-shadow: 0 0 15px var(--neon-blue); transform: translateY(-2px); }

        /* Modal Layout */
        .modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); display: flex; justify-content: center; align-items: center; z-index: 100000; }
        .modal-content { background: var(--card-bg); border: 2px solid var(--neon-blue); width: 95%; max-width: 900px; max-height: 85vh; padding: 25px; overflow-y: auto; position: relative; }
        
        .task-item { display: flex; align-items: center; gap: 10px; margin-bottom: 8px; background: rgba(255, 255, 255, 0.05); padding: 10px; border-left: 2px solid var(--neon-blue); }
        .compiling { animation: pulse 0.6s infinite; color: var(--neon-blue); }
        @keyframes pulse { 0% { opacity: 1; } 50% { opacity: 0.3; } 100% { opacity: 1; } }

        button { background: rgba(0, 217, 255, 0.1); border: 1px solid var(--neon-blue); color: var(--neon-blue); padding: 8px 15px; text-transform: uppercase; font-size: 0.7rem; font-weight: bold; cursor: pointer; }
        button:hover { background: var(--neon-blue); color: black; }
        
        .matrix-grid { display: grid; grid-template-columns: repeat(10, 1fr); border: 1px solid rgba(0, 217, 255, 0.2); }
        .matrix-cell { border: 1px solid rgba(0, 217, 255, 0.1); min-height: 60px; padding: 5px; font-size: 10px; }
        
        textarea { width: 100%; height: 50vh; background: rgba(0,0,0,0.3); border: 1px solid rgba(0, 217, 255, 0.3); color: #fff; padding: 15px; font-family: 'JetBrains Mono'; resize: none; outline: none; }
        textarea:focus { border-color: var(--neon-blue); }
    </style>
</head>
<body>

<div class="max-w-7xl mx-auto">
    <div class="flex justify-between items-center mb-8 border-b-2 border-cyan-500 pb-2">
        <h1 class="orbitron text-xl tracking-[0.3em] text-cyan-400">THE_GRID // V6.0</h1>
        <div id="currentDate" class="text-cyan-400 text-xs font-bold">BOOTING...</div>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
        <div class="cyber-card" onclick="openModal('dailyFocus')">
            <div class="text-cyan-400 text-[10px] font-bold uppercase tracking-widest">Daily Focus</div>
            <div id="dailyPreview" class="mt-2 text-sm italic opacity-50">0 ACTIVE NODES</div>
        </div>
        
        <div class="cyber-card" onclick="openModal('brainDump')">
            <div class="text-cyan-400 text-[10px] font-bold uppercase tracking-widest">Brain Dump</div>
            <div id="dumpPreview" class="mt-2 text-sm italic opacity-50">EMPTY_NODE</div>
        </div>

        <div class="cyber-card" onclick="openModal('weekly')">
            <div class="text-cyan-400 text-[10px] font-bold uppercase tracking-widest">7-Day Protocol</div>
            <div class="mt-2 text-sm italic opacity-50">FLIGHT PLAN</div>
        </div>

        <div class="cyber-card" onclick="openModal('taskBank')">
            <div class="text-cyan-400 text-[10px] font-bold uppercase tracking-widest">The Armory</div>
            <div class="mt-2 text-sm italic opacity-50">INJECT TEMPLATES</div>
        </div>

        <div class="cyber-card" onclick="openModal('financial')">
            <div class="text-cyan-400 text-[10px] font-bold uppercase tracking-widest">Financial Matrix</div>
            <div class="mt-2 text-sm italic opacity-50">30_DAY_EXPENSES</div>
        </div>

        <div class="cyber-card" onclick="openModal('subscriptions')">
            <div class="text-cyan-400 text-[10px] font-bold uppercase tracking-widest">Subscriptions</div>
            <div class="mt-2 text-sm italic opacity-50">38 NODES</div>
        </div>
    </div>

    <div class="mt-12 text-center opacity-40">
        <button onclick="wipeGrid()" class="border-red-500 text-red-500 hover:bg-red-500">â˜¢ DEREZ SYSTEM</button>
        <div class="mt-4 text-[10px] text-cyan-400">SYNC_STATUS: <span id="syncStatus">ACTIVE</span></div>
    </div>
</div>

<div id="modalContainer"></div>

<script>
    let appData = {
        dailyFocus: [],
        brainDump: "",
        financial: {},
        taskBank: {
            chores: ["Deep Clean House", "Inventory/Restock", "House Tidy", "Pets â€“ Daily"],
            work: ["Instagram â€“ Light", "AI Course â€“ Theory", "Outreach", "Email Wipe"],
            clients: ["Video Client A", "Video Client B", "App Dev Sync"]
        },
        weeklyPlanner: {
            MON: { mission: "Run + Video Client A (Vid 1/1)" },
            TUE: { mission: "Gym (Arms/Back/Core) + App Dev" },
            WED: { mission: "Run + Video Client B (Vid 1/2)" },
            THU: { mission: "Gym (Legs) + App Dev" },
            FRI: { mission: "Run + Video Client B (Vid 2/2)" },
            SAT: { mission: "Planning & Review + Course Prep" },
            SUN: { mission: "Gym (Pilates) + Job/Grant Apps" }
        },
        subscriptions: [
            { name: "Perplexity", url: "https://www.perplexity.ai/" },
            { name: "Lovable", url: "https://lovable.dev" },
            { name: "NotebookLM", url: "https://notebooklm.google/" },
            { name: "n8n", url: "https://n8n.io/" },
            { name: "Bolt.new", url: "https://bolt.new/" }
        ]
    };

    function init() {
        const saved = localStorage.getItem('tron_grid_v6_hub');
        if (saved) { appData = JSON.parse(saved); }
        updateDate();
        updatePreviews();
    }

    function saveData() {
        localStorage.setItem('tron_grid_v6_hub', JSON.stringify(appData));
        updatePreviews();
        document.getElementById('syncStatus').textContent = 'SYNCED';
    }

    function updateDate() {
        const o = { weekday: 'long', month: 'short', day: 'numeric' };
        document.getElementById('currentDate').textContent = new Date().toLocaleDateString('en-US', o).toUpperCase();
    }

    function updatePreviews() {
        document.getElementById('dailyPreview').textContent = `${appData.dailyFocus.length} ACTIVE NODES`;
        document.getElementById('dumpPreview').textContent = appData.brainDump.length > 0 ? "DATA_PRESENT" : "EMPTY_NODE";
    }

    function openModal(type) {
        const container = document.getElementById('modalContainer');
        let content = '';
        
        if(type==='dailyFocus') content = renderDaily();
        else if(type==='brainDump') content = renderBrainDump();
        else if(type==='financial') content = renderFinancial();
        else if(type==='taskBank') content = renderBank();
        else if(type==='weekly') content = renderWeekly();
        else if(type==='subscriptions') content = renderSubBank();

        container.innerHTML = `
            <div class="modal-overlay" onclick="if(event.target === this) closeModal()">
                <div class="modal-content">
                    <button class="absolute top-4 right-4" onclick="closeModal()">[X] CLOSE</button>
                    ${content}
                </div>
            </div>`;
    }

    function closeModal() { document.getElementById('modalContainer').innerHTML = ''; }

    function renderDaily() {
        return `<h2 class="orbitron text-cyan-400 mb-4 text-lg uppercase tracking-widest">Daily Focus</h2>` + 
            appData.dailyFocus.map((t,i)=>`
            <div class="task-item ${t.isCompiling?'compiling':''}">
                <span class="flex-1 text-xs">${t.text}</span>
                <button onclick="appData.dailyFocus.splice(${i},1); saveData(); openModal('dailyFocus')">ðŸ—‘</button>
            </div>`).join('') + 
            `<button class="mt-4 w-full" onclick="appData.dailyFocus=[]; saveData(); openModal('dailyFocus')">Clear All Focus</button>`;
    }

    function renderBrainDump() {
        return `
            <h2 class="orbitron text-cyan-400 mb-2 uppercase tracking-widest">Neural Scratchpad</h2>
            <textarea onblur="appData.brainDump = this.value; saveData();" placeholder="UPLOAD_THOUGHTS...">${appData.brainDump}</textarea>
            <div class="mt-4 text-[10px] opacity-50 italic">AUTO-SAVING ON BLUR...</div>`;
    }

    function renderFinancial() {
        let grid = '<div class="matrix-grid">';
        for (let i = 1; i <= 30; i++) {
            grid += `<div class="matrix-cell">
                <div class="opacity-30 mb-1">${i}</div>
                <div contenteditable="true" class="outline-none text-cyan-200" onblur="appData.financial[${i}]=this.innerText; saveData();">${appData.financial[i] || ''}</div>
            </div>`;
        }
        grid += '</div>';
        return `<h2 class="orbitron text-cyan-400 mb-4 uppercase tracking-widest">Financial Matrix</h2>${grid}`;
    }

    function renderBank() {
        return `<h2 class="orbitron text-cyan-400 mb-4 uppercase tracking-widest">The Armory</h2>` + 
            Object.entries(appData.taskBank).map(([key, list]) => `
                <h3 class="text-xs text-cyan-700 mt-4 mb-2 uppercase font-bold tracking-widest">${key}</h3>
                <div class="grid grid-cols-2 gap-2">${list.map(t => `<button onclick="injectToDaily('${t}')">âž• ${t}</button>`).join('')}</div>
            `).join('');
    }

    function renderWeekly() {
        return `<h2 class="orbitron text-cyan-400 mb-4 uppercase tracking-widest">7-Day Protocol</h2>` + 
            Object.entries(appData.weeklyPlanner).map(([day, d]) => `
                <div class="task-item">
                    <span class="text-xs"><strong>${day}</strong>: ${d.mission}</span>
                    <button onclick="injectToDaily('${d.mission}')">INJECT</button>
                </div>`).join('');
    }

    function renderSubBank() {
        return `<h2 class="orbitron text-cyan-400 mb-4 uppercase tracking-widest">Node Directory</h2><div class="grid grid-cols-2 gap-2">` + 
            appData.subscriptions.map(s => `<button onclick="window.open('${s.url}')">${s.name}</button>`).join('') + `</div>`;
    }

    function injectToDaily(name) {
        const id = Date.now();
        appData.dailyFocus.push({ id, text: "âš¡ COMPILING...", isCompiling: true });
        saveData(); openModal('dailyFocus');
        setTimeout(() => {
            const t = appData.dailyFocus.find(x => x.id === id);
            if(t) { t.text = name; t.isCompiling = false; }
            saveData(); openModal('dailyFocus');
        }, 600);
    }

    function wipeGrid() { if(confirm("DEREZ GRID?")) { localStorage.removeItem('tron_grid_v6_hub'); location.reload(); } }

    init();
</script>
</body>
</html>

